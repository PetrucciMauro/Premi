<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for scripts/services.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../prettify.css">
    <link rel="stylesheet" href="../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header low">
    <h1>Code coverage report for <span class="entity">scripts/services.js</span></h1>
    <h2>
        Statements: <span class="metric">26.61% <small>(58 / 218)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">10.31% <small>(10 / 97)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">28.57% <small>(14 / 49)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">27.62% <small>(58 / 210)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">scripts/</a> &#187; services.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15</span>
<span class="cline-any cline-yes">15</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">37</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">42</span>
<span class="cline-any cline-yes">26</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
&nbsp;
var premiService = angular.module('premiService',[])
&nbsp;
premiService.factory('Main', ['Utils', '$localStorage',
	function(Utils, $localStorage){
		var baseUrl = Utils.hostname();
&nbsp;
		//variabile login per mantenere aperta la sessione
		var login = Authentication(baseUrl);
		//user è adibita al contenimento dell'oggetto user
		var user = {};
&nbsp;
		/*
		Ogni refresh della pagina (f5) comporta il reset di angular e con esso anche della var. login.
		Per questo, ogni volta che il servizio Main è chiamato si attiva la funzione value().
		Questa valuta se è stato fatto un refresh vedendo se login è definito
			e in questo caso vede se nel localstorage sono salvati username e pwd (pwd ovviamente criptata):
			in tal caso allora riapplica l'authenticate e login viene ripristinata
		*/
&nbsp;
		var value = function(){
			<span class="missing-if-branch" title="if path not taken" >I</span>if(Utils.isUndefined(login.getToken()) &amp;&amp; Utils.isObject($localStorage.formData))
<span class="cstat-no" title="statement not covered" >				if(!login.authenticate($localStorage.formData.username, $localStorage.formData.password))</span>
<span class="cstat-no" title="statement not covered" >					throw new Error({message: login.getMessage()});</span>
		};
&nbsp;
		value();
		var main = {
			//Metodo che richiama il metodo del server per la registrazione
			register: <span class="fstat-no" title="function not covered" >function(formData, success, error) {</span>
				//richiamato metodo node per la registrazione di un nuovo utente
<span class="cstat-no" title="statement not covered" >				var register = Registration(baseUrl);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(register.register(formData.username, formData.password))</span>
					//la registrazione ha avuto buon fine quindi è possibile fare il login e creare il token
<span class="cstat-no" title="statement not covered" >					if(login.authenticate(formData.username, formData.password)){</span>
<span class="cstat-no" title="statement not covered" >						$localStorage.formData = formData;</span>
<span class="cstat-no" title="statement not covered" >						success();</span>
					}
					else
<span class="cstat-no" title="statement not covered" >						error({message: login.getMessage()});</span>
				else
<span class="cstat-no" title="statement not covered" >					error({message: register.getMessage()});</span>
			},
			//Metodo che richiama il metodo del server per il login
			login: function(formData, success, error) {
				//Se formData è definito significa che il login deve essere ancora effettuato
				//altrimenti è già stato fatto e viene ritornato l'oggetto login
				<span class="missing-if-branch" title="else path not taken" >E</span>if(Utils.isUndefined(formData))
					return login;
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(login.authenticate(formData.username, formData.password)){</span>
<span class="cstat-no" title="statement not covered" >					$localStorage.formData = formData;</span>
<span class="cstat-no" title="statement not covered" >					success();</span>
				}
				else
<span class="cstat-no" title="statement not covered" >					error({message: login.getMessage()});</span>
			},
			me: <span class="fstat-no" title="function not covered" >function(success, error) {</span>
<span class="cstat-no" title="statement not covered" >				$http.get(baseUrl + '/private').success(success).error(error)</span>
			},
			//Metodo che richiama il metodo del server per il logout
			logout: <span class="fstat-no" title="function not covered" >function(success, error) {</span>
				//viene cancellato il token di sessione, se esiste
<span class="cstat-no" title="statement not covered" >				var notdef = false;</span>
<span class="cstat-no" title="statement not covered" >				var local = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(Utils.isUndefined(login.getToken()))</span>
<span class="cstat-no" title="statement not covered" >					notdef = true;</span>
<span class="cstat-no" title="statement not covered" >				if(Utils.isObject($localStorage.formData))</span>
<span class="cstat-no" title="statement not covered" >					local = true;</span>
&nbsp;
				//IF NELL'ORDINE CORRETTO
				//se è presente $localStorage.formData bisogna cancellarlo
<span class="cstat-no" title="statement not covered" >				if(local)</span>
<span class="cstat-no" title="statement not covered" >					$localStorage.$reset();</span>
				//se è presente $localStorage.formData ma login è indefinito allora c'è un errore nel server
<span class="cstat-no" title="statement not covered" >				if(local &amp;&amp; notdef)</span>
<span class="cstat-no" title="statement not covered" >					throw new Error("Errore interno del server, forse non risponde. Provare a rieffettuare il login");</span>
				//altrimenti non è mai stato fatto un login
<span class="cstat-no" title="statement not covered" >				if(notdef)</span>
<span class="cstat-no" title="statement not covered" >					throw new Error("Bisogna aver effettuato l'accesso per fare il logout");</span>
				
<span class="cstat-no" title="statement not covered" >				console.log("Logout in corso...");</span>
&nbsp;
				//richiamato il metodo per fare il logout dal server
<span class="cstat-no" title="statement not covered" >				if(login.deAuthenticate()){</span>
<span class="cstat-no" title="statement not covered" >					success();</span>
<span class="cstat-no" title="statement not covered" >					return;</span>
				}
&nbsp;
				//arrivati qui significa che il logout non è stato possibile
<span class="cstat-no" title="statement not covered" >				error({message: 'Impossibile effettuare il logout'});</span>
			},
			//Metodo che richiama il metodo del server per fare il cambio della password
			changepassword: <span class="fstat-no" title="function not covered" >function(formData, success, error){</span>
				//richiamato il metodo node per il cambio della pwd
<span class="cstat-no" title="statement not covered" >				var changepwd = ChangePassword(baseUrl);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(changepwd.changepassword(formData.username, formData.password, formData.newpassword)){</span>
<span class="cstat-no" title="statement not covered" >					$localStorage.formData.password = formData.password;</span>
<span class="cstat-no" title="statement not covered" >					success();</span>
				}
				else
<span class="cstat-no" title="statement not covered" >					error({message: changepwd.getMessage()});</span>
			},
			getToken: function(){
				return login.getToken();
			},
			//Metodo che ritorna lo user in base al token di sessione
			getUser: function () {
				//se il token è definito ok si può decodificare
				<span class="missing-if-branch" title="if path not taken" >I</span>if(Utils.isObject(main.getToken()))
<span class="cstat-no" title="statement not covered" >					user = Utils.decodeToken(main.getToken());</span>
&nbsp;
				//in ogni caso viene ritornato user
				return user;
			}
		};
&nbsp;
		return main;
	}
]);
&nbsp;
premiService.factory('Upload', ['$http','Main','Utils',
	function($http,Main,Utils){
		var baseUrl = Utils.hostname();
		var token = Main.login().getToken();
&nbsp;
		//Formati accettati per l'upload
		var image = ['image/jpeg', 'image/gif','image/png'];
		var video = ['video/mp4','video/wav','video/avi'];
		var audio = ['audio/mp3'];
&nbsp;
		var getExtension = <span class="fstat-no" title="function not covered" >function (file) {</span>
<span class="cstat-no" title="statement not covered" >			var extension = file.type;</span>
<span class="cstat-no" title="statement not covered" >			return extension;</span>
&nbsp;
		};
&nbsp;
		var getUrlFormat = <span class="fstat-no" title="function not covered" >function (file) {</span>
<span class="cstat-no" title="statement not covered" >			var extension = getExtension(file);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(image.indexOf(extension) != -1)</span>
<span class="cstat-no" title="statement not covered" >				return "image/";</span>
			else <span class="cstat-no" title="statement not covered" >if(audio.indexOf(extension) != -1)</span>
<span class="cstat-no" title="statement not covered" >				return "audio/";</span>
			else <span class="cstat-no" title="statement not covered" >if(video.indexOf(extension) != -1)</span>
<span class="cstat-no" title="statement not covered" >				return "video/";</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			return undefined;</span>
		};
&nbsp;
		var getFileName = <span class="fstat-no" title="function not covered" >function(filename){</span>
<span class="cstat-no" title="statement not covered" >			var name = filename.split(".");</span>
<span class="cstat-no" title="statement not covered" >			var ris = "";</span>
<span class="cstat-no" title="statement not covered" >			for(var i=0;i&lt;name.length - 1;++i){</span>
<span class="cstat-no" title="statement not covered" >				ris += name[i];</span>
			}
<span class="cstat-no" title="statement not covered" >			return ris;</span>
		};
&nbsp;
&nbsp;
		var checkExtension = <span class="fstat-no" title="function not covered" >function(files, array){</span>
<span class="cstat-no" title="statement not covered" >			if(Utils.isUndefined(array))</span>
<span class="cstat-no" title="statement not covered" >				return checkExtension(files, image) || checkExtension(files, audio) || checkExtension(files, video);</span>
			
<span class="cstat-no" title="statement not covered" >			var ris = true;</span>
<span class="cstat-no" title="statement not covered" >			for(var i=0; i&lt;files.length &amp;&amp; ris; ++i)</span>
<span class="cstat-no" title="statement not covered" >				if(array.indexOf(files[i].type) == -1)</span>
<span class="cstat-no" title="statement not covered" >					ris = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			return ris;</span>
		};
		var upload = {
			uploadmedia: <span class="fstat-no" title="function not covered" >function(files, success, error) {				</span>
<span class="cstat-no" title="statement not covered" >				if(Utils.isUndefined(files))</span>
<span class="cstat-no" title="statement not covered" >					throw new Error("Attenzione! Il file non è definito.");</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(!checkExtension(files))</span>
<span class="cstat-no" title="statement not covered" >					throw new Error("Estensione non riconosciuta dal sistema.");</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				for(var i=0; i&lt;files.length; ++i){</span>
<span class="cstat-no" title="statement not covered" >					var formData = new FormData();</span>
<span class="cstat-no" title="statement not covered" >					formData.append("file", files[i]);</span>
<span class="cstat-no" title="statement not covered" >					var uploadUrl = getUrlFormat(files[i]) + getFileName(files[i].name);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >					var req = new XMLHttpRequest();</span>
<span class="cstat-no" title="statement not covered" >					req.open('POST', baseUrl +'/private/api/files/'+uploadUrl, false);</span>
<span class="cstat-no" title="statement not covered" >					req.setRequestHeader("Authorization", token);</span>
<span class="cstat-no" title="statement not covered" >					req.send(formData);</span>
&nbsp;
					//var res = JSON.parse(req.responseText);
					//console.log(req.responseText);
				}
			},
			isImage: <span class="fstat-no" title="function not covered" >function(files){</span>
<span class="cstat-no" title="statement not covered" >				return checkExtension(files, image);</span>
			},
			isAudio: <span class="fstat-no" title="function not covered" >function(files){</span>
<span class="cstat-no" title="statement not covered" >				return checkExtension(files, audio);</span>
			},
			isVideo: <span class="fstat-no" title="function not covered" >function(files){</span>
<span class="cstat-no" title="statement not covered" >				return checkExtension(files, video);</span>
			},
			getFileUrl: <span class="fstat-no" title="function not covered" >function(){</span>
<span class="cstat-no" title="statement not covered" >				return 'files/' + Utils.getUser()</span>
			}
		}
&nbsp;
		return upload;
	}
]);
&nbsp;
premiService.factory('Utils', [
	function(){
		//Metodi per la decodifica di un token
<span class="fstat-no" title="function not covered" >		function urlBase64Decode (str) {</span>
<span class="cstat-no" title="statement not covered" >			var output = str.replace(/-/g, '+').replace(/_/g, '/');</span>
<span class="cstat-no" title="statement not covered" >			switch (output.length % 4) {</span>
				case 0: { <span class="cstat-no" title="statement not covered" >break; </span>}
				case 2: { <span class="cstat-no" title="statement not covered" >output += '=='; <span class="cstat-no" title="statement not covered" ></span>break; </span>}
				case 3: { <span class="cstat-no" title="statement not covered" >output += '='; <span class="cstat-no" title="statement not covered" ></span>break; </span>}
				default: {
<span class="cstat-no" title="statement not covered" >					throw new Error('Stringa urlBase64 non legale');</span>
				}
			}
<span class="cstat-no" title="statement not covered" >			return decodeURIComponent(escape(window.atob(output))); </span>//polifyll https://github.com/davidchambers/Base64.js
		};
<span class="fstat-no" title="function not covered" >		function getTokenExpirationDate (token) {</span>
<span class="cstat-no" title="statement not covered" >			var decoded = decodeToken(token);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(typeof decoded.exp === "undefined") {</span>
<span class="cstat-no" title="statement not covered" >				return null;</span>
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >		  var d = new Date(0); </span>// The 0 here is the key, which sets the date to the epoch
<span class="cstat-no" title="statement not covered" >		  d.setUTCSeconds(decoded.exp);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		  return d;</span>
		};
<span class="fstat-no" title="function not covered" >		function isTokenExpired (token, offsetSeconds) {</span>
<span class="cstat-no" title="statement not covered" >			var d = getTokenExpirationDate(token);</span>
<span class="cstat-no" title="statement not covered" >			offsetSeconds = offsetSeconds || 0;</span>
<span class="cstat-no" title="statement not covered" >			if (d === null) {</span>
<span class="cstat-no" title="statement not covered" >				return false;</span>
			}
		  // Token expired?
<span class="cstat-no" title="statement not covered" >		  return !(d.valueOf() &gt; (new Date().valueOf() + (offsetSeconds * 1000)));</span>
		};
&nbsp;
		var utilities = {
			//Metodo per valutare la robustezza di una password
			decodeToken: <span class="fstat-no" title="function not covered" >function(token) {</span>
<span class="cstat-no" title="statement not covered" >				var parts = token.split('.');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if (parts.length !== 3) {</span>
<span class="cstat-no" title="statement not covered" >					throw new Error('Il token deve essere formato da 3 parti');</span>
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				var decoded = urlBase64Decode(parts[1]);</span>
<span class="cstat-no" title="statement not covered" >				if (!decoded) {</span>
<span class="cstat-no" title="statement not covered" >					throw new Error('Impossibile decodificare il token');</span>
				}
<span class="cstat-no" title="statement not covered" >				return JSON.parse(decoded);</span>
			},
			grade: <span class="fstat-no" title="function not covered" >function(password) {</span>
<span class="cstat-no" title="statement not covered" >				var size = password.length;</span>
<span class="cstat-no" title="statement not covered" >				var strength = 'weak';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if (size &gt; 8)</span>
<span class="cstat-no" title="statement not covered" >					strength = 'strong';</span>
				else <span class="cstat-no" title="statement not covered" >if (size &gt; 5)</span>
<span class="cstat-no" title="statement not covered" >					strength = 'medium';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				return strength;</span>
			},
			//Metodo che ritorna l'hostname dove risiede il sito
			hostname: function() {
				return "http://localhost:8081";
			},
			//Metodi che determinano se un oggetto è definito o meno
			isUndefined: function(object){
				if(!object)
					return true;
				<span class="missing-if-branch" title="if path not taken" >I</span>if(typeof object === 'undefined')
<span class="cstat-no" title="statement not covered" >					return true;</span>
				<span class="missing-if-branch" title="if path not taken" >I</span>if(typeof object === 'null')
<span class="cstat-no" title="statement not covered" >					return true;</span>
				<span class="missing-if-branch" title="else path not taken" >E</span>if(object === 'null')
					return true;
<span class="cstat-no" title="statement not covered" >				if(object === 'undefined')</span>
<span class="cstat-no" title="statement not covered" >					return true;</span>
<span class="cstat-no" title="statement not covered" >				return false;</span>
			},
			isObject: function(object){
				return !utilities.isUndefined(object);
			},
			//Metodo per criptare stringhe
			encrypt: <span class="fstat-no" title="function not covered" >function(string){</span>
<span class="cstat-no" title="statement not covered" >				return CryptoJS.SHA1(string).toString();</span>
			}
		}
		
		return utilities;
	}]);
/*
premiService.factory('SlideShow', ['$resource','Main',
	function($resource,Main){// QUI DEVO RICAVARMI LE PRESENTAZIONI DA MONGO
		
}]);*/
&nbsp;
//Servizio che reindirizza alla pagina corretta attivando il middleware node per la verifica del token
premiService.factory('toPages', ['$location','$http', 'Main', 'Utils', 'SharedData',
	function($location,$http, Main, Utils, SharedData){
		var baseUrl = Utils.hostname();
&nbsp;
		var sendRequest = function(dest, success, error){
			return $http({
				method: 'GET',
				url: baseUrl + dest
			})
			.success(success)
			.error(error)
		};
&nbsp;
		var baseError = <span class="fstat-no" title="function not covered" >function(){</span>};
		var error = <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>pages.loginpage();}</span>;
&nbsp;
		var pages = {
			//PAGINA DI LOGIN
			loginpage: function() {
				var success = <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$location.path('/login');}</span>;
				return sendRequest('/publicpages/login.html', success, baseError);
			},
			//PAGINA DI REGISTRAZIONE
			registrazionepage: <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >				var success = <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$location.path('/registrazione');}</span>;</span>
<span class="cstat-no" title="statement not covered" >				return sendRequest('/publicpages/registrazione.html', success, error);</span>
			},
			//Le seguenti pagine sono tutte accessibili solo dopo essersi autenticati al server
			//PAGINA HOME
			homepage: <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >				var success = <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$location.path('/private/home');<span class="cstat-no" title="statement not covered" >w</span>indow.location.reload();}</span>;</span>
<span class="cstat-no" title="statement not covered" >				return sendRequest('/private/home.html', success, error);</span>
			},
			//PAGINA EDIT
			editpage: <span class="fstat-no" title="function not covered" >function(slideId) {</span>
<span class="cstat-no" title="statement not covered" >				var success = <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >					$location.path('/private/edit');</span>
<span class="cstat-no" title="statement not covered" >					SharedData.forEdit(slideId);</span>
				};
<span class="cstat-no" title="statement not covered" >				return sendRequest('/private/edit.html', success, error);</span>
			},
			//PAGINA DI ESECUZIONE
			executionpage: <span class="fstat-no" title="function not covered" >function(slideId) {</span>
<span class="cstat-no" title="statement not covered" >				var success = <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >						$location.path('/private/execution');</span>
<span class="cstat-no" title="statement not covered" >						SharedData.forExecution(slideId);</span>
				};
<span class="cstat-no" title="statement not covered" >				return sendRequest('/private/execution.html', success, error);</span>
			},
			//PAGINA DI PROFILO
			profilepage: <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >				var success = <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>$location.path('/private/profile');}</span>;</span>
<span class="cstat-no" title="statement not covered" >				return sendRequest('/private/profile.html', success, error);</span>
			}
		};
&nbsp;
		return pages;
	}]);
&nbsp;
premiService.factory('SharedData', ['Utils', '$localStorage', 'Main',
	function(Utils, $localStorage, Main){
		var mongo = MongoRelation(Utils.hostname(), Main.login());
		//ricordano l'id della presentazione su cui lavorare
		//per l'esecuzione
		var idExecution = undefined;
		//per l'edit
		var idEdit = undefined;
&nbsp;
		var idEditManuel = undefined;
&nbsp;
		var shared = {
			forExecution: <span class="fstat-no" title="function not covered" >function(idSlideShow) {</span>
<span class="cstat-no" title="statement not covered" >				var idss = {};</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(Utils.isUndefined(idSlideShow)){</span>
<span class="cstat-no" title="statement not covered" >					if(Utils.isObject(idExecution))</span>
<span class="cstat-no" title="statement not covered" >						return idExecution;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >					if(Utils.isObject($localStorage.idExecution))</span>
<span class="cstat-no" title="statement not covered" >						idss = $localStorage.idExecution;</span>
				}
				else
<span class="cstat-no" title="statement not covered" >					idss = idSlideShow;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(Utils.isObject(idss)){</span>
<span class="cstat-no" title="statement not covered" >					idExecution = JSON.stringify(mongo.getPresentation(idss));</span>
<span class="cstat-no" title="statement not covered" >					$localStorage.idEdit = idss;</span>
				}
<span class="cstat-no" title="statement not covered" >				return idExecution;</span>
			},
			forEdit: <span class="fstat-no" title="function not covered" >function(idSlideShow) {</span>
<span class="cstat-no" title="statement not covered" >				var idss = {};</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(Utils.isUndefined(idSlideShow)){</span>
<span class="cstat-no" title="statement not covered" >					if(Utils.isObject(idEdit))</span>
<span class="cstat-no" title="statement not covered" >						return idEdit;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >					if(Utils.isObject($localStorage.idEdit))</span>
<span class="cstat-no" title="statement not covered" >						idss = $localStorage.idEdit;</span>
				}
				else
<span class="cstat-no" title="statement not covered" >					idss = idSlideShow;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(Utils.isObject(idss)){</span>
<span class="cstat-no" title="statement not covered" >					idEdit = JSON.stringify(mongo.getPresentation(idss));</span>
<span class="cstat-no" title="statement not covered" >					$localStorage.idEdit = idss;</span>
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				return idEdit;</span>
			},
			forEditManuel: <span class="fstat-no" title="function not covered" >function(json){</span>
<span class="cstat-no" title="statement not covered" >				if(json)</span>
<span class="cstat-no" title="statement not covered" >				idEditManuel = json;</span>
<span class="cstat-no" title="statement not covered" >				return idEditManuel;</span>
			}
		};
&nbsp;
		return shared;
	}]);</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Mon Aug 03 2015 16:52:24 GMT+0200 (CEST)</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
